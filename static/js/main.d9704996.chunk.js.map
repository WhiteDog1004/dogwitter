{"version":3,"sources":["fbase.js","components/AuthForm.js","routes/Auth.js","components/Comment.js","components/userProfile.png","components/Dweet.js","components/DweetFactory.js","routes/Home.js","routes/MyPost.js","routes/Profile.js","components/Navigation.js","components/Router.js","components/App.js","index.js"],"names":["firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","firebaseInstance","authService","auth","dbService","firestore","storageService","storage","AuthForm","useState","newAccount","setNewAccount","email","setEmail","password","setPassword","textError","setTextError","onChange","event","target","name","value","onSubmit","a","preventDefault","createUserWithEmailAndPassword","data","signInWithEmailAndPassword","console","log","message","includes","onSocialClick","provider","GoogleAuthProvider","signInWithPopup","then","result","user","error","className","icon","faTwitter","size","type","placeholder","required","onClick","prev","Auth","Comment","postObj","dweetObj","isCommentOwner","editing","setEditing","text","newCommentDweet","setNewCommentDweet","onCommentSubmit","doc","id","update","onDeleteComment","window","confirm","delete","commentEditing","htmlFor","faEdit","faTimesCircle","src","photoUrl","alt","nickName","timeNow","Date","now","createdAt","timeResult","Math","floor","time","hour","day","timeCommentCheck","faTrashAlt","Dweet","isOwner","userObj","imgPopup","setImgPopup","isPopupActive","setIsPopupActive","newDweet","setNewDweet","newPhoto","displayName","newDisplayName","profileUpdate","useCallback","commentCnt","setCommentCnt","commentOn","setCommentOn","dweetComment","setDweetComment","comments","setComments","useEffect","onDeleteClick","attachmentUrl","refFromURL","toggleEditing","onLikeCheck","likeCheck","filter","uid","like","FieldValue","arrayUnion","arrayRemove","dweetCommentItem","creatorId","userProfile","collection","add","orderBy","onSnapshot","snapShot","dweetCommentArr","docs","map","length","width","height","faHeart","img","timeCheck","faCommentDots","dweet","maxLength","DweetFactory","setDweet","attachment","setAttachment","attachmentRef","ref","child","uuidv4","putString","response","getDownloadURL","dweetItem","faImage","accept","theFile","files","reader","FileReader","onloadend","finishedEvent","currentTarget","readAsDataURL","style","display","Home","dweets","setDweets","dweetArr","MyPost","dweetArr2","Profiles","refreshUser","setNewDisplayName","getMyDweets","where","get","updateProfile","history","back","alert","onProfileSubmit","photoURL","location","replace","faFileImage","signOut","Navigation","profileNickName","setProfileNickName","to","faHome","faAddressCard","faUserAlt","AppRouter","isLoggedIn","undefined","exact","path","element","Profile","App","init","setInit","setIsLoggedIn","setUserObj","onAuthStateChanged","args","currentUser","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d9704996.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGIN_ID,\r\n  appId: process.env.REACT_APP_APP_ID\r\n};\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport const firebaseInstance = firebase;\r\nexport const authService = firebase.auth();\r\nexport const dbService = firebase.firestore();\r\nexport const storageService = firebase.storage();","import { authService, firebaseInstance } from \"fbase\";\r\nimport React, { useState } from \"react\";\r\n\r\nimport '../css/authForm.scss';\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTwitter } from \"@fortawesome/free-brands-svg-icons\"\r\n\r\nconst AuthForm = () => {\r\n    const [newAccount, setNewAccount] = useState(true);\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [textError, setTextError] = useState(\"\");\r\n\r\n    const toggleAccount = () => setNewAccount((prev) => !prev);\r\n\r\n    const onChange = (event) => {\r\n        const { target: { name, value } } = event;\r\n        if (name === \"email\") {\r\n            setEmail(value);\r\n        } else if (name === \"password\") {\r\n            setPassword(value);\r\n        }\r\n    };\r\n    const onSubmit = async (event) => {\r\n        event.preventDefault();\r\n        try {\r\n            let data;\r\n            if (newAccount) {\r\n                // create account\r\n                data = await authService.createUserWithEmailAndPassword(email, password);\r\n            } else {\r\n                // login\r\n                data = await authService.signInWithEmailAndPassword(email, password);\r\n            }\r\n            console.log(data);\r\n        } catch (error) {\r\n            if(error.message.includes(\"There\")){\r\n                setTextError(\"계정이 없습니다.\");\r\n            } else if(error.message.includes(\"password\")){\r\n                setTextError(\"비밀번호가 틀렸습니다.\");\r\n            } else if(error.message.includes(\"Password\")){\r\n                setTextError(\"비밀번호는 최소 6자 이상 입력해주세요.\");\r\n            } else if(error.message.includes(\"another\")){\r\n                setTextError(\"이미 존재하는 계정입니다.\");\r\n            } else {\r\n                console.log(error.message);\r\n            }\r\n        }\r\n    };\r\n\r\n    const onSocialClick = async (event) => {\r\n        const {\r\n            target: { name },\r\n        } = event;\r\n        let provider;\r\n        if (name === \"google\") {\r\n            provider = new firebaseInstance.auth.GoogleAuthProvider();\r\n        }\r\n        await authService.signInWithPopup(provider)\r\n        .then((result)=>{\r\n            var user = result.user;\r\n        }, (error)=> {\r\n            console.log(error);\r\n        });\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"formBox\">\r\n                <FontAwesomeIcon icon={faTwitter} size=\"6x\"/>\r\n                <form onSubmit={onSubmit} className=\"inputForm\">\r\n                    <input\r\n                        className=\"emailInput\"\r\n                        name=\"email\"\r\n                        type=\"email\"\r\n                        placeholder=\"Email\"\r\n                        required\r\n                        value={email}\r\n                        onChange={onChange}\r\n                    />\r\n                    <input\r\n                        className=\"passwordInput\"\r\n                        name=\"password\"\r\n                        type=\"password\"\r\n                        placeholder=\"Password\"\r\n                        required\r\n                        value={password}\r\n                        onChange={onChange}\r\n                    />\r\n                    <input type=\"submit\" value={newAccount ? \"회원가입 완료\" : \"로그인\"} />\r\n                    {textError}\r\n                </form>\r\n                <div className=\"outBtn\">\r\n                    <span onClick={toggleAccount}>{newAccount ? \"계정이 있으신가요?\" : \"계정을 만들고 싶으신가요?\"} </span>\r\n                    <button onClick={onSocialClick} name='google'>Continue with Google</button>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default AuthForm;","import AuthForm from \"components/AuthForm\";\r\nimport React from \"react\";\r\n\r\nconst Auth = () => {\r\n\r\n    return (\r\n        <div>\r\n            <AuthForm />\r\n        </div>\r\n    )\r\n}\r\nexport default Auth;\r\n","import React, { useState } from \"react\";\r\nimport { dbService } from \"fbase\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n    faEdit, faTrashAlt, faTimesCircle,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst Comment = ({ postObj, dweetObj, isCommentOwner }) => {\r\n    const [editing, setEditing] = useState(false);\r\n    const [newCommentDweet, setNewCommentDweet] = useState(dweetObj.text);\r\n\r\n    const timeCommentCheck = () => {\r\n        const testTime = Date.now();\r\n        const timeNow = (testTime - dweetObj.createdAt) / 1000;\r\n        const timeResult = Math.floor(timeNow);\r\n\r\n        if (timeResult < 60) {\r\n            let time = 0;\r\n            return (<>\r\n                <p>{time}분 전</p>\r\n            </>)\r\n        } else {\r\n            let time = timeResult / 60;\r\n            time = Math.floor(time);\r\n            if (time > 59) {\r\n                let hour = time / 60;\r\n                hour = Math.floor(hour);\r\n                if (hour > 23) {\r\n                    let day = hour / 24;\r\n                    day = Math.floor(day);\r\n                    return (<>\r\n                        <p>{day}일 전</p>\r\n                    </>)\r\n                }\r\n                return (<>\r\n                    <p>{hour}시간 전</p>\r\n                </>)\r\n            }\r\n\r\n            return (<>\r\n                <p>{time}분 전</p>\r\n            </>)\r\n        }\r\n    }\r\n\r\n    const onCommentSubmit = async (event) => {\r\n        event.preventDefault();\r\n        await dbService.doc(`dweets/${postObj}/comment/${dweetObj.id}`).update({\r\n            text: newCommentDweet,\r\n        });\r\n        setEditing(false);\r\n    };\r\n\r\n    // 삭제\r\n    const onDeleteComment = async () => {\r\n        const ok = window.confirm(\"정말 댓글을 삭제 하시겠습니까?\");\r\n        if (ok) {\r\n            // dweet 삭제\r\n            await dbService.doc(`dweets/${postObj}/comment/${dweetObj.id}`).delete();\r\n        }\r\n    };\r\n\r\n    // 수정\r\n    const commentEditing = () => setEditing((prev) => !prev);\r\n\r\n    const onCommentChange = (event) => {\r\n        const {\r\n            target: { value },\r\n        } = event;\r\n        setNewCommentDweet(value);\r\n    };\r\n\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                editing ? (\r\n                    <>\r\n                        {isCommentOwner && (\r\n                            <>\r\n                                <form onSubmit={onCommentSubmit}>\r\n                                    <textarea\r\n                                        type=\"text\"\r\n                                        placeholder=\"드윗 수정하기\"\r\n                                        value={newCommentDweet}\r\n                                        required\r\n                                        onChange={onCommentChange} />\r\n                                    <div className=\"dweetEditBox\">\r\n                                        <label htmlFor=\"editClick\"><FontAwesomeIcon icon={faEdit} size=\"2x\" /></label>\r\n                                        <input type=\"submit\" id=\"editClick\" value=\"수정\" />\r\n                                        <button onClick={commentEditing}><FontAwesomeIcon icon={faTimesCircle} size=\"2x\" /></button>\r\n                                    </div>\r\n                                </form>\r\n                            </>\r\n                        )}\r\n                    </>\r\n                ) : (\r\n                    <>\r\n                        <img src={dweetObj.photoUrl} alt=\"img\"/>\r\n                        <div className=\"commentTextBox\">\r\n                            <h4>{dweetObj.nickName}</h4>\r\n                            <span>{dweetObj.text}</span>\r\n                        </div>\r\n                        {timeCommentCheck()}\r\n                        {isCommentOwner && (\r\n                            <>\r\n                                <div className=\"commentBtn\">\r\n                                    <button onClick={commentEditing}><FontAwesomeIcon icon={faEdit} size=\"2x\" /></button>\r\n                                    <button onClick={onDeleteComment}><FontAwesomeIcon icon={faTrashAlt} size=\"2x\" /></button>\r\n                                </div>\r\n                            </>\r\n                        )}\r\n                    </>\r\n                )\r\n            }\r\n        </div>\r\n    );\r\n};\r\nexport default Comment;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAF0WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIxLTEyLTEyVDE2OjU1OjMzKzA5OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIxLTEyLTEyVDE2OjU1OjMzKzA5OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMS0xMi0xMlQxNjo1NTozMyswOTowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3YjRmMjZiYS01ZTMwLTY5NDMtYTUwOS0xZjM4ZDJkNzU0YzAiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDoyNDY4NTdjNC05NTc2LWZlNDMtOTdl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\"","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport firebase from \"firebase\"\r\nimport { dbService, storageService } from \"fbase\";\r\nimport React, { useCallback, useEffect, useState } from \"react\";\r\nimport Comment from \"components/Comment\";\r\nimport {\r\n    faCommentDots,\r\n    faEdit, faHeart, faTimesCircle, faTrashAlt,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport '../css/dweet.scss';\r\nimport userProfile from \"./userProfile.png\";\r\n\r\nconst Dweet = ({ dweetObj, isOwner, userObj }) => {\r\n\r\n    const [imgPopup, setImgPopup] = useState(\"\");\r\n    const [isPopupActive, setIsPopupActive] = useState(false);\r\n\r\n    // editing : dweet을 수정하고 있는지 아닌지를 확인함\r\n    const [editing, setEditing] = useState(false);\r\n\r\n    // newDweet : input의 값을 수정할 수 있음\r\n    const [newDweet, setNewDweet] = useState(dweetObj.text);\r\n    const [newPhoto] = useState(userObj.photoUrl);\r\n    const [newDisplayName] = useState(userObj.displayName);\r\n\r\n    // 프로필 사진 & 닉네임 업데이트\r\n    const profileUpdate = useCallback(async () => {\r\n        if (isOwner) {\r\n            await dbService.doc(`dweets/${dweetObj.id}`).update({\r\n                nickName: newDisplayName,\r\n                photoUrl: newPhoto,\r\n            });\r\n        }\r\n    }, [isOwner, dweetObj.id, newDisplayName, newPhoto]);\r\n\r\n    // 댓글\r\n    const [commentCnt, setCommentCnt] = useState(\"0\");\r\n    const [commentOn, setCommentOn] = useState(false);\r\n    const [dweetComment, setDweetComment] = useState(\"\");\r\n    const [comments, setComments] = useState([]);\r\n\r\n\r\n    useEffect(() => {\r\n        profileUpdate();\r\n    }, [profileUpdate]);\r\n    // 삭제\r\n    const onDeleteClick = async () => {\r\n        const ok = window.confirm(\"정말 dweet을 삭제 하시겠습니까?\");\r\n        if (ok) {\r\n            // dweet 삭제\r\n            await dbService.doc(`dweets/${dweetObj.id}`).delete();\r\n            if (dweetObj.attachmentUrl) {\r\n                await storageService.refFromURL(dweetObj.attachmentUrl).delete();\r\n            }\r\n        }\r\n    };\r\n    const toggleEditing = () => setEditing((prev) => !prev);\r\n\r\n    const onSubmit = async (event) => {\r\n        event.preventDefault();\r\n        await dbService.doc(`dweets/${dweetObj.id}`).update({\r\n            text: newDweet,\r\n        });\r\n        setEditing(false);\r\n    };\r\n\r\n\r\n    const onChange = (event) => {\r\n        const {\r\n            target: { value },\r\n        } = event;\r\n        setNewDweet(value);\r\n    };\r\n\r\n    const timeCheck = () => {\r\n        // 드윗 작성후 시간 얼마나 지났는지\r\n        const testTime = Date.now();\r\n        const timeNow = (testTime - dweetObj.createdAt) / 1000;\r\n        const timeResult = Math.floor(timeNow);\r\n        if (timeResult < 60) {\r\n            let time = 0;\r\n            return (<>\r\n                <p>{time}분 전</p>\r\n            </>)\r\n        } else {\r\n            let time = timeResult / 60;\r\n            time = Math.floor(time);\r\n            if (time > 59) {\r\n                let hour = time / 60;\r\n                hour = Math.floor(hour);\r\n                if (hour > 23) {\r\n                    let day = hour / 24;\r\n                    day = Math.floor(day);\r\n                    return (<>\r\n                        <p>{day}일 전</p>\r\n                    </>)\r\n                }\r\n                return (<>\r\n                    <p>{hour}시간 전</p>\r\n                </>)\r\n            }\r\n\r\n            return (<>\r\n                <p>{time}분 전</p>\r\n            </>)\r\n        }\r\n    }\r\n\r\n    // 이미지 클릭시 크게\r\n    const imgClick = () => {\r\n        const img = dweetObj.attachmentUrl;\r\n\r\n        setIsPopupActive(true);\r\n        setImgPopup(img);\r\n    }\r\n    const cancelClick = () => {\r\n        setIsPopupActive(false);\r\n        setImgPopup(\"\");\r\n    }\r\n\r\n    // 글 좋아요\r\n    const onLikeCheck = async () => {\r\n        const likeCheckTrue = dweetObj.likeCheck.filter(uid => uid === userObj.uid);\r\n\r\n        if (!likeCheckTrue[0]) {\r\n            dweetObj.like++;\r\n            await dbService.doc(`dweets/${dweetObj.id}`).update({\r\n                like: dweetObj.like,\r\n                likeCheck: firebase.firestore.FieldValue.arrayUnion(userObj.uid),\r\n            });\r\n        } else {\r\n            dweetObj.like--;\r\n            await dbService.doc(`dweets/${dweetObj.id}`).update({\r\n                like: dweetObj.like,\r\n                likeCheck: firebase.firestore.FieldValue.arrayRemove(userObj.uid),\r\n            });\r\n        }\r\n    }\r\n\r\n    // 댓글 체크확인\r\n    const onClickComment = () => {\r\n        if (!commentOn) {\r\n            setCommentOn(true);\r\n        } else {\r\n            setCommentOn(false);\r\n        }\r\n    }\r\n    // 댓글 작성\r\n    const onCommentChange = (event) => {\r\n        const {\r\n            target: { value },\r\n        } = event;\r\n        setDweetComment(value);\r\n    };\r\n    const onCommentSubmit = async (event) => {\r\n        event.preventDefault();\r\n        const dweetCommentItem = {\r\n            text: dweetComment,\r\n            createdAt: Date.now(),\r\n            creatorId: userObj.uid,\r\n            nickName: userObj.displayName,\r\n            photoUrl: userObj.photoUrl,\r\n        };\r\n        if (dweetCommentItem.text === \"\") return;\r\n        if (userObj.photoUrl === null) userObj.photoUrl = userProfile;\r\n        await dbService.collection(`dweets/${dweetObj.id}/comment`).add(dweetCommentItem);\r\n        setDweetComment(\"\");\r\n    };\r\n\r\n    useEffect(() => {\r\n        dbService.collection(`dweets/${dweetObj.id}/comment`).orderBy(\"createdAt\", \"asc\").onSnapshot((snapShot) => {\r\n            const dweetCommentArr = snapShot.docs.map(doc => ({\r\n                id: doc.id,\r\n                ...doc.data(),\r\n            }));\r\n            setComments(dweetCommentArr);\r\n            setCommentCnt(dweetCommentArr.length);\r\n        });\r\n    }, [dweetObj.id]);\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className=\"dweetBox\">\r\n                {\r\n                    editing ? (\r\n                        <>\r\n                            {isOwner && (\r\n                                <>\r\n                                    <form onSubmit={onSubmit}>\r\n                                        <textarea\r\n                                            type=\"text\"\r\n                                            placeholder=\"드윗 수정하기\"\r\n                                            value={newDweet}\r\n                                            required\r\n                                            onChange={onChange} />\r\n                                        <div className=\"dweetEditBox\">\r\n                                            <label htmlFor=\"editClick\"><FontAwesomeIcon icon={faEdit} size=\"2x\" /></label>\r\n                                            <input type=\"submit\" id=\"editClick\" value=\"수정\" />\r\n                                            <button onClick={toggleEditing}><FontAwesomeIcon icon={faTimesCircle} size=\"2x\" /></button>\r\n                                        </div>\r\n                                    </form>\r\n                                </>\r\n                            )}\r\n                        </>\r\n                    ) : (\r\n                        <>\r\n                            <div className=\"dweetMsgBox\">\r\n                                {dweetObj.photoUrl ? (\r\n                                    <>\r\n                                        <div className=\"photoUrlBox\">\r\n                                            <img src={dweetObj.photoUrl} className=\"photoUrl\" width={96} height={96} alt=\"img\" />\r\n                                        </div>\r\n                                    </>\r\n                                ) : (\r\n                                    <>\r\n                                        <div className=\"photoUrlBox\">\r\n                                            <img src={userProfile} className=\"photoUrl\" width={96} height={96} alt=\"img\" />\r\n                                        </div>\r\n                                    </>\r\n                                )}\r\n                                <div>\r\n                                    <div className=\"postHead\">\r\n                                        <h3>{dweetObj.nickName}</h3>\r\n                                        <div className=\"likeCheckBox\">\r\n                                            <FontAwesomeIcon icon={faHeart} size=\"1x\" onClick={onLikeCheck} /> {dweetObj.like}\r\n                                        </div>\r\n                                    </div>\r\n                                    <h4>{dweetObj.text}</h4>\r\n                                    {dweetObj.attachmentUrl && (\r\n                                        <img onClick={imgClick} src={dweetObj.attachmentUrl} width=\"100px\" height=\"100px\" alt=\"img\" />\r\n                                    )}\r\n                                </div>\r\n                                {isOwner && (\r\n                                    <>\r\n                                        <div className=\"dweetBtn\">\r\n                                            <button onClick={toggleEditing}><FontAwesomeIcon icon={faEdit} size=\"2x\" /></button>\r\n                                            <button onClick={onDeleteClick}><FontAwesomeIcon icon={faTrashAlt} size=\"2x\" /></button>\r\n                                        </div>\r\n                                    </>\r\n                                )}\r\n                                <div className=\"timeCheckBox\">\r\n                                    {timeCheck()}\r\n                                    <div className=\"commentBox\" onClick={onClickComment}>\r\n                                        <FontAwesomeIcon icon={faCommentDots} />\r\n                                        <span> {commentCnt}</span>\r\n                                    </div>\r\n                                </div>\r\n                                {commentOn && (\r\n                                    <div className=\"commentOnClick\">\r\n                                        <div className=\"comments\">\r\n                                            <div className=\"commentsBox\">\r\n                                                {comments.map((dweet) => (\r\n                                                    <Comment\r\n                                                        userObj={userObj}\r\n                                                        key={dweet.id}\r\n                                                        dweetObj={dweet}\r\n                                                        isCommentOwner={dweet.creatorId === userObj.uid}\r\n                                                        postObj={dweetObj.id}\r\n                                                    />\r\n                                                ))}\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"commentAvatarAndComment\">\r\n                                            <div className=\"myComment\">\r\n                                                <img src={userObj.photoUrl} alt=\"img\" />\r\n                                                <form onSubmit={onCommentSubmit} className=\"dweetCommentBox\">\r\n                                                    <input value={dweetComment} onChange={onCommentChange} type='text' placeholder=\"댓글 작성하기\" maxLength={40} />\r\n                                                    <input type=\"submit\" id=\"dweetComment\" value=\"Dweet\" />\r\n                                                </form>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </>\r\n                    )\r\n                }\r\n\r\n            </div>\r\n            {/* 클릭 이미지 팝업 */}\r\n            <div className={isPopupActive ? `popupActive` : `notPopupActive`} onClick={cancelClick}>\r\n                <img src={imgPopup} alt=\"img\"></img>\r\n            </div>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default Dweet;","import React, { useState } from \"react\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { dbService, storageService } from \"fbase\";\r\n\r\nimport '../css/dweetFactory.scss';\r\nimport userProfile from \"./userProfile.png\";\r\n\r\nimport {\r\n    faImage, faTimesCircle,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nconst DweetFactory = ({ userObj }) => {\r\n    // dweet은 form을 위한 state\r\n    const [dweet, setDweet] = useState(\"\");\r\n    const [attachment, setAttachment] = useState(\"\");\r\n    const [like] = useState(0);\r\n\r\n    const onSubmit = async (event) => {\r\n        event.preventDefault();\r\n        let attachmentUrl = \"\";\r\n        if (attachment !== \"\") {\r\n            const attachmentRef = storageService.ref().child(`${userObj.uid}/${uuidv4()}`);\r\n            const response = await attachmentRef.putString(attachment, \"data_url\");\r\n            attachmentUrl = await response.ref.getDownloadURL();\r\n        }\r\n        const dweetItem = {\r\n            text: dweet,\r\n            createdAt: Date.now(),\r\n            creatorId: userObj.uid,\r\n            attachmentUrl,\r\n            nickName: userObj.displayName,\r\n            photoUrl: userObj.photoUrl,\r\n            like: like,\r\n            likeCheck: [],\r\n        };\r\n        if(dweetItem.text === \"\") return;\r\n        if(userObj.photoUrl === null) userObj.photoUrl = userProfile;\r\n        await dbService.collection('dweets').add(dweetItem);\r\n        setDweet(\"\");\r\n        setAttachment(\"\");\r\n\r\n        // 1) Storage().ref().child() return Reference - storage의 이미지 폴더 생성.\r\n        // 2) Reference.putString() - 이 작업이 폴더에 이미지를 넣는 작업.\r\n        // 3) Reference.putString() return (완료시 UploadTaskSnapshot을 받음)\r\n        // 4) UploadTaskSnapshot.ref.getDownloadURL() - 이 작업에서 ref 속성을 쓰면 그 이미지의 Reference에 접근 가능, 이미지가 저장된 stroage 주소를 받을 수 있다.\r\n    };\r\n    const onChange = (event) => {\r\n        const {\r\n            target: { value },\r\n        } = event;\r\n        setDweet(value);\r\n    };\r\n\r\n    // 파일\r\n    const onFileChange = (event) => {\r\n        const { target: { files },\r\n        } = event;\r\n        const theFile = files[0];\r\n        const reader = new FileReader();\r\n        reader.onloadend = (finishedEvent) => {\r\n            const {\r\n                currentTarget: { result },\r\n            } = finishedEvent;\r\n            setAttachment(result);\r\n        };\r\n        reader.readAsDataURL(theFile);\r\n    };\r\n    const onClearAttachment = () => setAttachment(null);\r\n\r\n\r\n    return (\r\n        <form onSubmit={onSubmit} className=\"dweetBox\">\r\n            <input value={dweet} onChange={onChange} type='text' placeholder=\"무슨 생각 중이신가요?\" maxLength={120} />\r\n            <div>\r\n                <label htmlFor=\"fileClick\"><FontAwesomeIcon icon={faImage} size=\"2x\"/></label>\r\n                <input type=\"file\" accept=\"image/*\" id=\"fileClick\" onChange={onFileChange} style={{display:\"none\"}}/>\r\n                <input type='submit' value=\"Dweet\" />\r\n            </div>\r\n            {attachment && (\r\n                <div className=\"dweetImgBox\">\r\n                    <img src={attachment} width=\"150px\" height=\"150px\" alt=\"img\" />\r\n                    <button onClick={onClearAttachment}><FontAwesomeIcon icon={faTimesCircle} size=\"2x\"/> </button>\r\n                </div>\r\n            )}\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default DweetFactory;","import Dweet from \"components/Dweet\";\r\nimport DweetFactory from \"components/DweetFactory\";\r\nimport { dbService } from \"fbase\";\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\nconst Home = ({ userObj }) => {\r\n    //\r\n    const [dweets, setDweets] = useState([]);\r\n\r\n    useEffect(() => {\r\n        // onSnapshot은 데이터베이스에 무슨 일이 있을 때, 알림을 받음\r\n        // 새로운 스냅샷을 받을 때 새로운 배열을 만듬\r\n        // .orderBy(\"createdAt\",\"desc\") << 내림차순으로\r\n        dbService.collection(\"dweets\").orderBy(\"createdAt\", \"desc\").onSnapshot((snapShot) => {\r\n            const dweetArr = snapShot.docs.map(doc => ({\r\n                id: doc.id,\r\n                ...doc.data(),\r\n            }));\r\n            // 그 다음 state에 배열을 넣음\r\n            setDweets(dweetArr);\r\n        });\r\n    }, []);\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <DweetFactory userObj={userObj} />\r\n            <div>\r\n                {/* Dweet 컴포넌트 생성 */}\r\n                {/* dweetObj : dweet의 모든 데이터 */}\r\n                {/* isOwner  : true || false, dweet을 만든 사람과 userObj.uid가 같으면 true를 반환( userObj는 Home의 props에서 옴 그 이후로 ... Home(props) < router(props) < App.js ) */}\r\n                {dweets.map((dweet) => (\r\n                    <Dweet\r\n                        userObj={userObj}\r\n                        key={dweet.id}\r\n                        dweetObj={dweet}\r\n                        isOwner={dweet.creatorId === userObj.uid} />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nexport default Home;","import { dbService } from \"fbase\";\r\nimport Dweet from \"components/Dweet\";\r\nimport '../css/myPost.scss';\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\n\r\nconst MyPost = ({ userObj }) => {\r\n    const [dweets, setDweets] = useState([]);\r\n\r\n    useEffect(() => {\r\n        dbService.collection(\"dweets\").orderBy(\"createdAt\", \"desc\").onSnapshot((snapShot) => {\r\n            const dweetArr = snapShot.docs.map(doc => ({\r\n                id: doc.id,\r\n                ...doc.data(),\r\n            }));\r\n            // creatorId와 같으면 그것만 추출\r\n            const dweetArr2 = dweetArr.filter(uid => uid.creatorId === userObj.uid);\r\n\r\n            // 그 다음 state에 배열을 넣음\r\n            setDweets(dweetArr2);\r\n        });\r\n    }, [userObj.uid]);\r\n    return (\r\n        <>\r\n            <div>\r\n                <div className=\"topTextBox\">\r\n                    <h2>{userObj.displayName}</h2>\r\n                    <p>님이 작성한 글</p>\r\n                </div>\r\n                <div>\r\n                    {dweets.map((dweet) => (\r\n                        <Dweet\r\n                            userObj={userObj}\r\n                            key={dweet.id}\r\n                            dweetObj={dweet}\r\n                            isOwner={dweet.creatorId === userObj.uid} />\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default MyPost;","import { authService, dbService, storageService } from \"fbase\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport {\r\n    faFileImage,\r\n    faTimesCircle,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nimport '../css/profile.scss';\r\n\r\nconst Profiles = ({ refreshUser, userObj }) => {\r\n    const [attachment, setAttachment] = useState(\"\");\r\n\r\n    const onLogOutClick = () => {\r\n        const logoutCheck = window.confirm(\"로그아웃 하시겠습니까?\");\r\n        \r\n        if (logoutCheck) {\r\n            window.history.back();\r\n            authService.signOut();\r\n        }\r\n    };\r\n    const [newDisplayName, setNewDisplayName] = useState(userObj.displayName);\r\n    const getMyDweets = async () => {\r\n        await dbService\r\n            .collection(\"dweets\")\r\n            .where(\"creatorId\", \"==\", userObj.uid)\r\n            .orderBy(\"createdAt\", \"desc\")\r\n            .get();\r\n        // console.log(dweets.docs.map((doc) => doc.data()));\r\n    }\r\n    useEffect(() => {\r\n        getMyDweets();\r\n    });\r\n    const onChange = (event) => {\r\n        const {\r\n            target: { value },\r\n        } = event;\r\n        setNewDisplayName(value);\r\n    };\r\n    const onSubmit = async (event) => {\r\n        event.preventDefault();\r\n        if (userObj.displayName !== newDisplayName) {\r\n            await userObj.updateProfile({\r\n                displayName: newDisplayName,\r\n            });\r\n            refreshUser();\r\n            window.history.back();\r\n        } else {\r\n            alert(`변경할 닉네임을 작성해주세요`);\r\n        };\r\n    };\r\n\r\n    // 프로필 사진\r\n    const onProfileSubmit = async (event) => {\r\n        event.preventDefault();\r\n        const changeCheck = window.confirm(\"변경하시겠습니까?\");\r\n        if (changeCheck) {\r\n            let attachmentUrl = \"\";\r\n            if (attachment !== \"\") {\r\n                const attachmentRef = storageService.ref().child(`${userObj.uid}/avatar`);\r\n                const response = await attachmentRef.putString(attachment, \"data_url\");\r\n                attachmentUrl = await response.ref.getDownloadURL();\r\n\r\n                await userObj.updateProfile({ photoURL: attachmentUrl });\r\n            }\r\n            refreshUser();\r\n            window.location.replace(\"/\");\r\n        }\r\n        setAttachment(\"\");\r\n    };\r\n\r\n    const onProfileFileChange = (event) => {\r\n        const { target: { files },\r\n        } = event;\r\n        const theFile = files[0];\r\n        const reader = new FileReader();\r\n        reader.onloadend = (finishedEvent) => {\r\n            const {\r\n                currentTarget: { result },\r\n            } = finishedEvent;\r\n            setAttachment(result);\r\n        };\r\n        theFile && reader.readAsDataURL(theFile);\r\n    };\r\n    const onClearAttachment = () => setAttachment(null);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"profileFormBox\">\r\n                <form onSubmit={onSubmit}>\r\n                    <h3>닉네임 변경</h3>\r\n                    <input\r\n                        onChange={onChange}\r\n                        type=\"text\"\r\n                        placeholder=\"프로필 닉네임\"\r\n                        value={newDisplayName || \"\"}\r\n                        maxLength={6}\r\n                    />\r\n                    <input type=\"submit\" value=\"닉네임 변경\" />\r\n                </form>\r\n\r\n                <form onSubmit={onProfileSubmit} className=\"profileChangeBox\">\r\n                    <h3>프로필 사진 변경</h3>\r\n                    {attachment ? (\r\n                        <div className=\"profileChangePreview\">\r\n                            <img src={attachment} width=\"150px\" height=\"150px\" alt=\"img\" />\r\n                            <button onClick={onClearAttachment}><FontAwesomeIcon icon={faTimesCircle} size=\"2x\" /> </button>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"profileChangePreview\">\r\n                            <img src={userObj.photoUrl} width=\"150px\" height=\"150px\" alt=\"img\" />\r\n                        </div>\r\n                    )}\r\n                    <div className=\"fileInputBox\">\r\n                        <label className=\"inputFileButton\" htmlFor=\"inputFile\">\r\n                            <p>파일 선택</p>\r\n                            <FontAwesomeIcon icon={faFileImage} />\r\n                        </label>\r\n                        <input type=\"file\" id=\"inputFile\" accept=\"image/*\" onChange={onProfileFileChange} style={{ display: \"none\" }} />\r\n                        <input className=\"changePhotoBtn\" type='submit' value=\"변경하기\" />\r\n                    </div>\r\n                </form>\r\n                <button onClick={onLogOutClick} >LogOut</button>\r\n            </div>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Profiles;","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTwitter } from \"@fortawesome/free-brands-svg-icons\"\r\nimport {\r\n    faAddressCard,\r\n    faHome,\r\n    faUserAlt,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport '../css/navigation.scss';\r\nimport { useEffect } from \"react\";\r\n\r\nconst Navigation = ({ userObj }) => {\r\n    const [profileNickName, setProfileNickName] = useState(\"\");\r\n\r\n    useEffect(()=> {\r\n        if (userObj) {\r\n            setProfileNickName(userObj.uid);\r\n        }\r\n    }, [userObj]);\r\n    return (\r\n        <nav>\r\n            <ul>\r\n                <li>\r\n                    <Link to=\"/\">\r\n                        <FontAwesomeIcon icon={faTwitter} className=\"twitter\" />\r\n                    </Link>\r\n                </li>\r\n                <li>\r\n                    <Link to=\"/\">\r\n                        <FontAwesomeIcon icon={faHome} /> <p>Home</p>\r\n                    </Link>\r\n                </li>\r\n                <li>\r\n                    <Link to={`/${profileNickName}`}>\r\n                        <FontAwesomeIcon icon={faAddressCard} /> <p>My Post</p>\r\n                    </Link>\r\n                </li>\r\n                <li>\r\n                    <Link to=\"/profile\"><FontAwesomeIcon icon={faUserAlt} /> <p>{userObj?.displayName ? `${userObj.displayName}의 프로필` : `유저의 프로필`}</p></Link>\r\n                </li>\r\n            </ul>\r\n        </nav>\r\n    )\r\n};\r\nexport default Navigation;","import React, { useState } from \"react\";\r\nimport { HashRouter as Router, Route, Routes } from \"react-router-dom\";\r\nimport Auth from \"../routes/Auth\";\r\nimport Home from \"../routes/Home\";\r\nimport MyPost from \"../routes/MyPost\";\r\nimport Profile from \"../routes/Profile\";\r\nimport Navigation from \"components/Navigation\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst AppRouter = ({ refreshUser, isLoggedIn, userObj }) => {\r\n    const [profileNickName, setProfileNickName] = useState(\"\");\r\n    useEffect(() => {\r\n        if (isLoggedIn) {\r\n            setProfileNickName(userObj ? userObj.uid : undefined);\r\n        }\r\n    }, [isLoggedIn, userObj]);\r\n    return (\r\n        <Router>\r\n            {isLoggedIn && <Navigation userObj={userObj} />}\r\n            <Routes>\r\n                {isLoggedIn ? (\r\n                    <>\r\n                        <Route exact path=\"/\" element={<Home userObj={userObj} refreshUser={refreshUser} />}></Route>\r\n                        <Route exact path={`/${profileNickName}`} element={<MyPost userObj={userObj} />}></Route>\r\n                        <Route exact path=\"/profile\" element={<Profile refreshUser={refreshUser} userObj={userObj} />}></Route>\r\n                    </>\r\n                ) : (\r\n                    <>\r\n                        <Route exact path=\"/\" element={<Auth />}> </Route>\r\n                    </>\r\n                )}\r\n            </Routes>\r\n        </Router>\r\n    )\r\n};\r\nexport default AppRouter;","import React, { useEffect, useState } from \"react\";\nimport AppRouter from \"components/Router\";\nimport { authService } from \"fbase\";\n\nimport '../css/app.scss';\n\nfunction App() {\n  const [init, setInit] = useState(false);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [userObj, setUserObj] = useState(null);\n  useEffect(() => {\n    // 로그인하거나 로그아웃 또는 어플리케이션이 초기화 될 때 발생\n    // 어플리케이션이 시작하고 준비가 되면 setInit을 true로 반환\n    authService.onAuthStateChanged((user) => {\n\n      // 어떠한 user도 받지 못하면 비로그인 상태\n      // user를 받았다면 userObj를 업데이트\n      if (user) {\n        setIsLoggedIn(true);\n        setUserObj({\n          displayName:user.displayName,\n          uid:user.uid,\n          updateProfile: (args) => user.updateProfile(args),\n          photoUrl: user.photoURL,\n        });\n      } else {\n        setIsLoggedIn(false);\n      }\n      setInit(true);\n    });\n  }, [])\n  const refreshUser = () => {\n    const user = authService.currentUser;\n    setUserObj({\n      displayName:user.displayName,\n      uid:user.uid,\n      updateProfile: (args) => user.updateProfile(args),\n      photoUrl: user.photoURL,\n    });\n  }\n  \n  return (\n    <>\n      {init ? <AppRouter refreshUser={refreshUser} isLoggedIn={isLoggedIn} userObj={userObj} /> : \"로딩중..\"}\n      {/* <footer>copy Dogwitter {new Date().getFullYear()}</footer> */}\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}