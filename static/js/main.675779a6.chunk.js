(this.webpackJsonpdogwitter=this.webpackJsonpdogwitter||[]).push([[0],{41:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){"use strict";c.r(t);var n=c(3),r=c.n(n),a=c(32),i=c.n(a),s=c(5),o=c(18),j=c(6),l=c(14),u=c(7),d=c.n(u),b=c(21);c(38),c(39),c(40);b.a.initializeApp({apiKey:"AIzaSyBV_TyY_4EGRj6ENXh6EJKaiFcYxIlE8QY",authDomain:"dogwitter.firebaseapp.com",projectId:"dogwitter",storageBucket:"dogwitter.appspot.com",messagingSenderId:"1029081199812",appId:"1:1029081199812:web:1eda310221c0b3c6450591"});var h=b.a,O=b.a.auth(),x=b.a.firestore(),m=b.a.storage(),p=(c(41),c(11)),f=c(23),v=c(2),g=function(){var e=Object(n.useState)(!0),t=Object(s.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(""),i=Object(s.a)(a,2),o=i[0],j=i[1],u=Object(n.useState)(""),b=Object(s.a)(u,2),x=b[0],m=b[1],g=Object(n.useState)(""),w=Object(s.a)(g,2),A=w[0],N=w[1],k=function(e){var t=e.target,c=t.name,n=t.value;"email"===c?j(n):"password"===c&&m(n)},I=function(){var e=Object(l.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!c){e.next=8;break}return e.next=5,O.createUserWithEmailAndPassword(o,x);case 5:n=e.sent,e.next=11;break;case 8:return e.next=10,O.signInWithEmailAndPassword(o,x);case 10:n=e.sent;case 11:console.log(n),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),e.t0.message.includes("There")?N("\uacc4\uc815\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."):e.t0.message.includes("password")?N("\ube44\ubc00\ubc88\ud638\uac00 \ud2c0\ub838\uc2b5\ub2c8\ub2e4."):e.t0.message.includes("Password")?N("\ube44\ubc00\ubc88\ud638\ub294 \ucd5c\uc18c 6\uc790 \uc774\uc0c1 \uc785\ub825\ud574\uc8fc\uc138\uc694."):e.t0.message.includes("another")?N("\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \uacc4\uc815\uc785\ub2c8\ub2e4."):console.log(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===t.target.name&&(c=new h.auth.GoogleAuthProvider),e.next=4,O.signInWithPopup(c).then((function(e){var t=e.user;console.log(t)}),(function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"formBox",children:[Object(v.jsx)(p.a,{icon:f.a,size:"6x"}),Object(v.jsxs)("form",{onSubmit:I,className:"inputForm",children:[Object(v.jsx)("input",{className:"emailInput",name:"email",type:"email",placeholder:"Email",required:!0,value:o,onChange:k}),Object(v.jsx)("input",{className:"passwordInput",name:"password",type:"password",placeholder:"Password",required:!0,value:x,onChange:k}),Object(v.jsx)("input",{type:"submit",value:c?"\ud68c\uc6d0\uac00\uc785 \uc644\ub8cc":"\ub85c\uadf8\uc778"}),A]}),Object(v.jsxs)("div",{className:"outBtn",children:[Object(v.jsxs)("span",{onClick:function(){return r((function(e){return!e}))},children:[c?"\uacc4\uc815\uc774 \uc788\uc73c\uc2e0\uac00\uc694?":"\uacc4\uc815\uc744 \ub9cc\ub4e4\uace0 \uc2f6\uc73c\uc2e0\uac00\uc694?"," "]}),Object(v.jsx)("button",{onClick:y,name:"google",children:"Continue with Google"})]})]})})},w=function(){return Object(v.jsx)("div",{children:Object(v.jsx)(g,{})})},A=c(20),N=c(28),k=c(13),I=function(e){var t=e.postObj,c=e.dweetObj,r=e.isCommentOwner,a=Object(n.useState)(!1),i=Object(s.a)(a,2),o=i[0],j=i[1],u=Object(n.useState)(c.text),b=Object(s.a)(u,2),h=b[0],O=b[1],m=function(){var e=Object(l.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,x.doc("dweets/".concat(t,"/comment/").concat(c.id)).update({text:h});case 3:j(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\uc815\ub9d0 \ub313\uae00\uc744 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){e.next=4;break}return e.next=4,x.doc("dweets/".concat(t,"/comment/").concat(c.id)).delete();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){return j((function(e){return!e}))};return Object(v.jsx)("div",{children:o?Object(v.jsx)(v.Fragment,{children:r&&Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("form",{onSubmit:m,children:[Object(v.jsx)("textarea",{type:"text",placeholder:"\ub4dc\uc717 \uc218\uc815\ud558\uae30",value:h,required:!0,onChange:function(e){var t=e.target.value;O(t)}}),Object(v.jsxs)("div",{className:"dweetEditBox",children:[Object(v.jsx)("label",{htmlFor:"editClick",children:Object(v.jsx)(p.a,{icon:k.c,size:"2x"})}),Object(v.jsx)("input",{type:"submit",id:"editClick",value:"\uc218\uc815"}),Object(v.jsx)("button",{onClick:g,children:Object(v.jsx)(p.a,{icon:k.h,size:"2x"})})]})]})})}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("img",{src:c.photoUrl,alt:"img"}),Object(v.jsxs)("div",{className:"commentTextBox",children:[Object(v.jsx)("h4",{children:c.nickName}),Object(v.jsx)("span",{children:c.text})]}),function(){var e=(Date.now()-c.createdAt)/1e3,t=Math.floor(e);if(t<60){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("p",{children:[0,"\ubd84 \uc804"]})})}var n=t/60;if((n=Math.floor(n))>59){var r=n/60;if((r=Math.floor(r))>23){var a=r/24;return a=Math.floor(a),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("p",{children:[a,"\uc77c \uc804"]})})}return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("p",{children:[r,"\uc2dc\uac04 \uc804"]})})}return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("p",{children:[n,"\ubd84 \uc804"]})})}(),r&&Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"commentBtn",children:[Object(v.jsx)("button",{onClick:g,children:Object(v.jsx)(p.a,{icon:k.c,size:"2x"})}),Object(v.jsx)("button",{onClick:f,children:Object(v.jsx)(p.a,{icon:k.i,size:"2x"})})]})})]})})},y=(c(50),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAF0WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIxLTEyLTEyVDE2OjU1OjMzKzA5OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIxLTEyLTEyVDE2OjU1OjMzKzA5OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMS0xMi0xMlQxNjo1NTozMyswOTowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3YjRmMjZiYS01ZTMwLTY5NDMtYTUwOS0xZjM4ZDJkNzU0YzAiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDoyNDY4NTdjNC05NTc2LWZlNDMtOTdl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"),S=function(e){var t=e.dweetObj,c=e.isOwner,r=e.userObj,a=Object(n.useState)(""),i=Object(s.a)(a,2),o=i[0],j=i[1],u=Object(n.useState)(!1),b=Object(s.a)(u,2),h=b[0],O=b[1],f=Object(n.useState)(!1),g=Object(s.a)(f,2),w=g[0],S=g[1],C=Object(n.useState)(t.text),z=Object(s.a)(C,2),B=z[0],D=z[1],U=Object(n.useState)(r.photoUrl),E=Object(s.a)(U,1)[0],M=Object(n.useState)(r.displayName),L=Object(s.a)(M,1)[0],R=Object(n.useCallback)(Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=3;break}return e.next=3,x.doc("dweets/".concat(t.id)).update({nickName:L,photoUrl:E});case 3:case"end":return e.stop()}}),e)}))),[c,t.id,L,E]),Z=Object(n.useState)("0"),F=Object(s.a)(Z,2),W=F[0],Y=F[1],G=Object(n.useState)(!1),H=Object(s.a)(G,2),P=H[0],T=H[1],V=Object(n.useState)(""),J=Object(s.a)(V,2),Q=J[0],X=J[1],K=Object(n.useState)([]),q=Object(s.a)(K,2),_=q[0],$=q[1];Object(n.useEffect)((function(){R()}),[R]);var ee=function(){var e=Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\uc815\ub9d0 dweet\uc744 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){e.next=7;break}return e.next=4,x.doc("dweets/".concat(t.id)).delete();case 4:if(!t.attachmentUrl){e.next=7;break}return e.next=7,m.refFromURL(t.attachmentUrl).delete();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){return S((function(e){return!e}))},ce=function(){var e=Object(l.a)(d.a.mark((function e(c){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.next=3,x.doc("dweets/".concat(t.id)).update({text:B});case 3:S(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.likeCheck.filter((function(e){return e===r.uid}))[0]){e.next=7;break}return t.like++,e.next=5,x.doc("dweets/".concat(t.id)).update({like:t.like,likeCheck:N.a.firestore.FieldValue.arrayUnion(r.uid)});case 5:e.next=10;break;case 7:return t.like--,e.next=10,x.doc("dweets/".concat(t.id)).update({like:t.like,likeCheck:N.a.firestore.FieldValue.arrayRemove(r.uid)});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(l.a)(d.a.mark((function e(c){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),""!==(n={text:Q,createdAt:Date.now(),creatorId:r.uid,nickName:r.displayName,photoUrl:r.photoUrl}).text){e.next=4;break}return e.abrupt("return");case 4:return null===r.photoUrl&&(r.photoUrl=y),e.next=7,x.collection("dweets/".concat(t.id,"/comment")).add(n);case 7:X("");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){x.collection("dweets/".concat(t.id,"/comment")).orderBy("createdAt","asc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(A.a)({id:e.id},e.data())}));$(t),Y(t.length)}))}),[t.id]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"dweetBox",children:w?Object(v.jsx)(v.Fragment,{children:c&&Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("form",{onSubmit:ce,children:[Object(v.jsx)("textarea",{type:"text",placeholder:"\ub4dc\uc717 \uc218\uc815\ud558\uae30",value:B,required:!0,onChange:function(e){var t=e.target.value;D(t)}}),Object(v.jsxs)("div",{className:"dweetEditBox",children:[Object(v.jsx)("label",{htmlFor:"editClick",children:Object(v.jsx)(p.a,{icon:k.c,size:"2x"})}),Object(v.jsx)("input",{type:"submit",id:"editClick",value:"\uc218\uc815"}),Object(v.jsx)("button",{onClick:te,children:Object(v.jsx)(p.a,{icon:k.h,size:"2x"})})]})]})})}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"dweetMsgBox",children:[t.photoUrl?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"photoUrlBox",children:Object(v.jsx)("img",{src:t.photoUrl,className:"photoUrl",width:96,height:96,alt:"img"})})}):Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"photoUrlBox",children:Object(v.jsx)("img",{src:y,className:"photoUrl",width:96,height:96,alt:"img"})})}),Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"postHead",children:[Object(v.jsx)("h3",{children:t.nickName}),Object(v.jsxs)("div",{className:"likeCheckBox",children:[Object(v.jsx)(p.a,{icon:k.e,size:"1x",onClick:ne})," ",t.like]})]}),Object(v.jsx)("h4",{children:t.text}),t.attachmentUrl&&Object(v.jsx)("img",{onClick:function(){var e=t.attachmentUrl;O(!0),j(e)},src:t.attachmentUrl,width:"100px",height:"100px",alt:"img"})]}),c&&Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"dweetBtn",children:[Object(v.jsx)("button",{onClick:te,children:Object(v.jsx)(p.a,{icon:k.c,size:"2x"})}),Object(v.jsx)("button",{onClick:ee,children:Object(v.jsx)(p.a,{icon:k.i,size:"2x"})})]})}),Object(v.jsxs)("div",{className:"timeCheckBox",children:[function(){var e=(Date.now()-t.createdAt)/1e3,c=Math.floor(e);if(c<60){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("p",{children:[0,"\ubd84 \uc804"]})})}var n=c/60;if((n=Math.floor(n))>59){var r=n/60;if((r=Math.floor(r))>23){var a=r/24;return a=Math.floor(a),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("p",{children:[a,"\uc77c \uc804"]})})}return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("p",{children:[r,"\uc2dc\uac04 \uc804"]})})}return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("p",{children:[n,"\ubd84 \uc804"]})})}(),Object(v.jsxs)("div",{className:"commentBox",onClick:function(){T(!P)},children:[Object(v.jsx)(p.a,{icon:k.b}),Object(v.jsxs)("span",{children:[" ",W]})]})]}),P&&Object(v.jsxs)("div",{className:"commentOnClick",children:[Object(v.jsx)("div",{className:"comments",children:Object(v.jsx)("div",{className:"commentsBox",children:_.map((function(e){return Object(v.jsx)(I,{userObj:r,dweetObj:e,isCommentOwner:e.creatorId===r.uid,postObj:t.id},e.id)}))})}),Object(v.jsx)("div",{className:"commentAvatarAndComment",children:Object(v.jsxs)("div",{className:"myComment",children:[Object(v.jsx)("img",{src:r.photoUrl,alt:"img"}),Object(v.jsxs)("form",{onSubmit:re,className:"dweetCommentBox",children:[Object(v.jsx)("input",{value:Q,onChange:function(e){var t=e.target.value;X(t)},type:"text",placeholder:"\ub313\uae00 \uc791\uc131\ud558\uae30",maxLength:40}),Object(v.jsx)("input",{type:"submit",id:"dweetComment",value:"Dweet"})]})]})})]})]})})}),Object(v.jsx)("div",{className:h?"popupActive":"notPopupActive",onClick:function(){O(!1),j("")},children:Object(v.jsx)("img",{src:o,alt:"img"})})]})},C=c(58),z=(c(51),function(e){var t=e.userObj,c=Object(n.useState)(""),r=Object(s.a)(c,2),a=r[0],i=r[1],o=Object(n.useState)(""),j=Object(s.a)(o,2),u=j[0],b=j[1],h=Object(n.useState)(0),O=Object(s.a)(h,1)[0],f=function(){var e=Object(l.a)(d.a.mark((function e(c){var n,r,s,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),n="",""===u){e.next=10;break}return r=m.ref().child("".concat(t.uid,"/").concat(Object(C.a)())),e.next=6,r.putString(u,"data_url");case 6:return s=e.sent,e.next=9,s.ref.getDownloadURL();case 9:n=e.sent;case 10:if(""!==(o={text:a,createdAt:Date.now(),creatorId:t.uid,attachmentUrl:n,nickName:t.displayName,photoUrl:t.photoUrl,like:O,likeCheck:[]}).text){e.next=13;break}return e.abrupt("return");case 13:return null===t.photoUrl&&(t.photoUrl=y),e.next=16,x.collection("dweets").add(o);case 16:i(""),b("");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("form",{onSubmit:f,className:"dweetBox",children:[Object(v.jsx)("input",{value:a,onChange:function(e){var t=e.target.value;i(t)},type:"text",placeholder:"\ubb34\uc2a8 \uc0dd\uac01 \uc911\uc774\uc2e0\uac00\uc694?",maxLength:120}),Object(v.jsxs)("div",{children:[Object(v.jsx)("label",{htmlFor:"fileClick",children:Object(v.jsx)(p.a,{icon:k.g,size:"2x"})}),Object(v.jsx)("input",{type:"file",accept:"image/*",id:"fileClick",onChange:function(e){var t=e.target.files[0],c=new FileReader;c.onloadend=function(e){var t=e.currentTarget.result;b(t)},c.readAsDataURL(t)},style:{display:"none"}}),Object(v.jsx)("input",{type:"submit",value:"Dweet"})]}),u&&Object(v.jsxs)("div",{className:"dweetImgBox",children:[Object(v.jsx)("img",{src:u,width:"150px",height:"150px",alt:"img"}),Object(v.jsxs)("button",{onClick:function(){return b(null)},children:[Object(v.jsx)(p.a,{icon:k.h,size:"2x"})," "]})]})]})}),B=function(e){var t=e.userObj,c=Object(n.useState)([]),r=Object(s.a)(c,2),a=r[0],i=r[1];return Object(n.useEffect)((function(){x.collection("dweets").orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(A.a)({id:e.id},e.data())}));i(t)}))}),[]),Object(v.jsxs)("div",{children:[Object(v.jsx)(z,{userObj:t}),Object(v.jsx)("div",{children:a.map((function(e){return Object(v.jsx)(S,{userObj:t,dweetObj:e,isOwner:e.creatorId===t.uid},e.id)}))})]})},D=(c(52),function(e){var t=e.userObj,c=Object(n.useState)([]),r=Object(s.a)(c,2),a=r[0],i=r[1];return Object(n.useEffect)((function(){x.collection("dweets").orderBy("createdAt","desc").onSnapshot((function(e){var c=e.docs.map((function(e){return Object(A.a)({id:e.id},e.data())})).filter((function(e){return e.creatorId===t.uid}));i(c)}))}),[t.uid]),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"topTextBox",children:[Object(v.jsx)("h2",{children:t.displayName}),Object(v.jsx)("p",{children:"\ub2d8\uc774 \uc791\uc131\ud55c \uae00"})]}),Object(v.jsx)("div",{children:a.map((function(e){return Object(v.jsx)(S,{userObj:t,dweetObj:e,isOwner:e.creatorId===t.uid},e.id)}))})]})})}),U=(c(53),function(e){var t=e.refreshUser,c=e.userObj,r=Object(n.useState)(""),a=Object(s.a)(r,2),i=a[0],o=a[1],j=Object(n.useState)(c.displayName),u=Object(s.a)(j,2),b=u[0],h=u[1],f=function(){var e=Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.collection("dweets").where("creatorId","==",c.uid).orderBy("createdAt","desc").get();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){f()}));var g=function(){var e=Object(l.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),c.displayName===b){e.next=8;break}return e.next=4,c.updateProfile({displayName:b});case 4:t(),window.location.replace("/"),e.next=9;break;case 8:alert("\ubcc0\uacbd\ud560 \ub2c9\ub124\uc784\uc744 \uc791\uc131\ud574\uc8fc\uc138\uc694");case 9:case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(d.a.mark((function e(n){var r,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!window.confirm("\ubcc0\uacbd\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){e.next=16;break}if(r="",""===i){e.next=14;break}return a=m.ref().child("".concat(c.uid,"/avatar")),e.next=8,a.putString(i,"data_url");case 8:return s=e.sent,e.next=11,s.ref.getDownloadURL();case 11:return r=e.sent,e.next=14,c.updateProfile({photoURL:r});case 14:t(),window.location.replace("/");case 16:o("");case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"profileFormBox",children:[Object(v.jsxs)("form",{onSubmit:g,children:[Object(v.jsx)("h3",{children:"\ub2c9\ub124\uc784 \ubcc0\uacbd"}),Object(v.jsx)("input",{onChange:function(e){var t=e.target.value;h(t)},type:"text",placeholder:"\ud504\ub85c\ud544 \ub2c9\ub124\uc784",value:b||"",maxLength:6}),Object(v.jsx)("input",{type:"submit",value:"\ub2c9\ub124\uc784 \ubcc0\uacbd"})]}),Object(v.jsxs)("form",{onSubmit:w,className:"profileChangeBox",children:[Object(v.jsx)("h3",{children:"\ud504\ub85c\ud544 \uc0ac\uc9c4 \ubcc0\uacbd"}),i?Object(v.jsxs)("div",{className:"profileChangePreview",children:[Object(v.jsx)("img",{src:i,width:"150px",height:"150px",alt:"img"}),Object(v.jsxs)("button",{onClick:function(){return o(null)},children:[Object(v.jsx)(p.a,{icon:k.h,size:"2x"})," "]})]}):Object(v.jsx)("div",{className:"profileChangePreview",children:Object(v.jsx)("img",{src:c.photoUrl,width:"150px",height:"150px",alt:"img"})}),Object(v.jsxs)("div",{className:"fileInputBox",children:[Object(v.jsxs)("label",{className:"inputFileButton",htmlFor:"inputFile",children:[Object(v.jsx)("p",{children:"\ud30c\uc77c \uc120\ud0dd"}),Object(v.jsx)(p.a,{icon:k.d})]}),Object(v.jsx)("input",{type:"file",id:"inputFile",accept:"image/*",onChange:function(e){var t=e.target.files[0],c=new FileReader;c.onloadend=function(e){var t=e.currentTarget.result;o(t)},t&&c.readAsDataURL(t)},style:{display:"none"}}),Object(v.jsx)("input",{className:"changePhotoBtn",type:"submit",value:"\ubcc0\uacbd\ud558\uae30"})]})]}),Object(v.jsx)("button",{onClick:function(){window.confirm("\ub85c\uadf8\uc544\uc6c3 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&(window.location.href="/",O.signOut())},children:"LogOut"})]})})}),E=(c(54),c(24)),M=function(e){var t=e.userObj,c=Object(n.useState)(""),r=Object(s.a)(c,2),a=r[0],i=r[1];return Object(E.useEffect)((function(){t&&i(t.uid)}),[t]),Object(v.jsx)("nav",{children:Object(v.jsxs)("ul",{children:[Object(v.jsx)("li",{children:Object(v.jsx)(o.b,{to:"/",children:Object(v.jsx)(p.a,{icon:f.a,className:"twitter"})})}),Object(v.jsx)("li",{children:Object(v.jsxs)(o.b,{to:"/",children:[Object(v.jsx)(p.a,{icon:k.f})," ",Object(v.jsx)("p",{children:"Home"})]})}),Object(v.jsx)("li",{children:Object(v.jsxs)(o.b,{to:"/".concat(a),children:[Object(v.jsx)(p.a,{icon:k.a})," ",Object(v.jsx)("p",{children:"My Post"})]})}),Object(v.jsx)("li",{children:Object(v.jsxs)(o.b,{to:"/profile",children:[Object(v.jsx)(p.a,{icon:k.j})," ",Object(v.jsx)("p",{children:null!==t&&void 0!==t&&t.displayName?"".concat(t.displayName,"\uc758 \ud504\ub85c\ud544"):"\uc720\uc800\uc758 \ud504\ub85c\ud544"})]})})]})})},L=function(e){var t=e.refreshUser,c=e.isLoggedIn,r=e.userObj,a=Object(n.useState)(""),i=Object(s.a)(a,2),l=i[0],u=i[1];return Object(E.useEffect)((function(){c&&u(r?r.uid:void 0)}),[c,r]),Object(v.jsxs)(o.a,{children:[c&&Object(v.jsx)(M,{userObj:r}),Object(v.jsx)(j.c,{children:c?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(j.a,{exact:!0,path:"/",element:Object(v.jsx)(B,{userObj:r,refreshUser:t})}),Object(v.jsx)(j.a,{exact:!0,path:"/".concat(l),element:Object(v.jsx)(D,{userObj:r})}),Object(v.jsx)(j.a,{exact:!0,path:"/profile",element:Object(v.jsx)(U,{refreshUser:t,userObj:r})})]}):Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(j.a,{exact:!0,path:"/",element:Object(v.jsx)(w,{}),children:" "})})})]})};c(55);var R=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(!1),i=Object(s.a)(a,2),o=i[0],j=i[1],l=Object(n.useState)(null),u=Object(s.a)(l,2),d=u[0],b=u[1];return Object(n.useEffect)((function(){O.onAuthStateChanged((function(e){e?(j(!0),b({displayName:e.displayName,uid:e.uid,updateProfile:function(t){return e.updateProfile(t)},photoUrl:e.photoURL})):j(!1),r(!0)}))}),[]),Object(v.jsx)(v.Fragment,{children:c?Object(v.jsx)(L,{refreshUser:function(){var e=O.currentUser;b({displayName:e.displayName,uid:e.uid,updateProfile:function(t){return e.updateProfile(t)},photoUrl:e.photoURL})},isLoggedIn:o,userObj:d}):"\ub85c\ub529\uc911.."})};i.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(R,{})}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.675779a6.chunk.js.map